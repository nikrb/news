---
author: Dejan Atanasov
authorTwitter: https://twitter.com/atanasov_d
authorFacebook: https://facebook.com/10154085062897645
title: "Your ultimate guide to the Google Maps SDK on iOS, using Swift 4"
subTitle: "Many iOS apps use Google Maps. This is a very common feature, so I have decided to prepare an ultimate guide on the Google Maps SDK for i..."
coverSrc: https://cdn-images-1.medium.com/max/2000/1*0ONsJHjgFTW1SF_amzDM6g.jpeg
url: https://medium.freecodecamp.org/how-you-can-use-the-google-maps-sdk-with-ios-using-swift-4-a9bba26d9c4d
id: how-you-can-use-the-google-maps-sdk-with-ios-using-swift-4-a9bba26d9c4d
date: 2017-10-26T03:16:01.179Z
tags: [
  "Swift",
  "iOS",
  "Mobile App Development",
  "Programming",
  "Apple"
]
---
# Your ultimate guide to the Google Maps SDK on iOS, using Swift¬†4







![](https://cdn-images-1.medium.com/max/2000/1*0ONsJHjgFTW1SF_amzDM6g.jpeg)

Originally posted on [**theappspace.com**](http://theappspace.com/google-maps-sdk-ios-using-swift-4/)







Many iOS apps use Google Maps. This is a very common feature, so I have decided to prepare an ultimate guide on the Google Maps SDK for iOS. This tutorial covers everything that you might need to know.

I hope that my readers will request features, so I can expand this article. Everything will be documented in this post! üòé

### Installation

Before we start coding, we must install the Google Maps iOS SDK first. You might prefer some other dependency manager, but I would recommend [CocoaPods](https://cocoapods.org/).

Create a Podfile inside your project root directory, and copy the following code:

<pre name="ce45" id="ce45" class="graf graf--pre graf-after--p">source 'https://github.com/CocoaPods/Specs.git'  
target 'YOUR_TARGET_NAME' do  
  pod 'GoogleMaps'  
end</pre>

All you need to do is changing the YOUR_TARGET_NAME string with a real value. Save the file and close it. Open the terminal and cd to the root directory of the project, then type `pod install`. You're done! üëè

### Get an API¬†key

To use the Google Maps iOS SDK, you will need an API Key. To generate the key you will need to visit the [Google API Console](https://console.developers.google.com/flows/enableapi?apiid=maps_ios_backend&reusekey=true).¬†  
Create a project, and navigate to ‚ÄòCredentials‚Äô.

Then, click ‚ÄòGenerate Credentials‚Äôand pick API Key. You will need to provide your projects bundle id. The key is generated by the unique bundle id, so if it‚Äôs changed, the Google Maps services **won‚Äôt work**!

Go to your project, and in your `AppDelegate.swift` class add `import GoogleMaps`. Then, copy the following code to `application(_:didFinishLaunchingWithOptions:)`

<pre name="ddd9" id="ddd9" class="graf graf--pre graf-after--p">GMSServices.provideAPIKey("**YOUR_API_KEY**")</pre>

### `Step 1‚Ää‚Äî‚ÄäAdd a¬†map`

I will start by showing you how to set up the map together with a basic marker. The code that you will see here is tested in parallel as I write.

Let‚Äôs start! üöÄ

Visit your UIViewController (where you need to add the map). Create a custom UIView with the size you need. Assign the `GMSMapView` class as a **Custom Class** to the UIView (see the screenshot below). Also, don't forget to connect the delegate.



![](https://cdn-images-1.medium.com/max/1600/1*zb3cuSmzcs1byI9_wNw6rA.png)



#### Finally, some¬†code!

Let‚Äôs get back to the UIViewController and write some code. ‚å®Ô∏è¬†  
Ô∏èIn the below snippet, I have added the whole class so you can get a better picture of what is going on.

`GMSCameraPosition` tells the map which coordinates to take as a center point. To show a simple marker on the map, use the `showMarker()` function.

At the end of the file, add an [extension](http://theappspace.com/i-%E2%9D%A4-swift-part-1-organize-uiviewcontroller-classes-by-using-extensions/) which will ‚Äústore‚Äù the `GMSMapViewDelegate` methods that we need.





<iframe width="700" height="250" src="https://medium.freecodecamp.org/media/c2d04d7d526d0c4ec96fbb79469939b7?postId=a9bba26d9c4d" data-media-id="c2d04d7d526d0c4ec96fbb79469939b7" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F18553031%3Fv%3D4%26s%3D400&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen="" frameborder="0"></iframe>







![](https://cdn-images-1.medium.com/max/1600/1*PljEkFaSEt10AzemQsFlzg.png)



### Step 2‚Ää‚Äî‚ÄäDelegate¬†methods

I will now introduce you to some `GMSMapViewDelegate` methods and their powers. ‚úä

#### GMSMarker InfoWindow

In Google Maps, an InfoWindow is a popup window with extra information about a given location. It is displayed when the user taps on the marker we added above.

Our InfoWindow is customizable. You can attach your own UIView with whatever components you need.

I have written an example implementation. This assumes in most cases people will use a custom InfoWindow,





<iframe width="700" height="250" src="https://medium.freecodecamp.org/media/0418dce9ad00ef7140a680ef31af2146?postId=a9bba26d9c4d" data-media-id="0418dce9ad00ef7140a680ef31af2146" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F18553031%3Fv%3D4%26s%3D400&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen="" frameborder="0"></iframe>





*   `didTapInfoWindowOf()` detects when the user taps on the InfoWindow.
*   `markerInfoWindow()` adds the custom UIView that we want to show to the marker.
*   `didLongPressInfoWindowOf()` detects when the InfoWindow has been long pressed.



![](https://cdn-images-1.medium.com/max/1600/1*B1__Cl82zpZ2U4QJ0RsMkw.png)



#### Drag GMSMarker

Another interesting feature in GMSMapViewDelegate is the ability to drag the marker. This can be achieved with a minimal amount of code.

All you have to do is turn on the ‚Äúswitch‚Äù, by calling `marker.isDragabble=true`on the marker created above.

In order to drag the marker, you will need to use a long press. If you need to be notified when the user starts and ends dragging, you can implement these three delegate methods:





<iframe width="700" height="250" src="https://medium.freecodecamp.org/media/8c80ed06e54594f7c8eef62c1dc32d10?postId=a9bba26d9c4d" data-media-id="8c80ed06e54594f7c8eef62c1dc32d10" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F18553031%3Fv%3D4%26s%3D400&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen="" frameborder="0"></iframe>





*   `didBeginDragging` notifies once‚Ää‚Äî‚Ääwhen the dragging has started.
*   `didDrag` notifies while the marker is being dragged.
*   `didEndDragging` notifies once‚Ää‚Äî‚Ääwhen the dragging has ended.

#### GMSMarker position

What if you need to change the `GMSMarker` position while the user is tapping on the map? Well, `GMSMapViewDelegate` offers a solution for that as well. A single delegate method can intercept the coordinates (latitude and longitude) of the tapped area. It will then assign their values to the marker.





<iframe width="700" height="250" src="https://medium.freecodecamp.org/media/c5760b2cb3a339b824c6a531cc1a6a8d?postId=a9bba26d9c4d" data-media-id="c5760b2cb3a339b824c6a531cc1a6a8d" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F18553031%3Fv%3D4%26s%3D400&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen="" frameborder="0"></iframe>





*   `didTapAt()` returns the coordinate from the tapped area on the map

### Step 3‚Ää‚Äî‚ÄäAdding¬†shapes

The Google Maps iOS SDK makes it simple to draw a shape. I will cover how to draw with polylines, polygons and circles.

#### Polylines

Shapes can be built using lines. We can draw lines in Google Maps using ‚Äòpolylines‚Äô. The object that will help us with the drawing is called `GMSPolyline`.

To create a polyline, you will need to create a path using `GMSMutablePath`. It needs two or more points to start creating a path.





<iframe width="700" height="250" src="https://medium.freecodecamp.org/media/e22244e7de4224fdb31034c4519ac4b9?postId=a9bba26d9c4d" data-media-id="e22244e7de4224fdb31034c4519ac4b9" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F18553031%3Fv%3D4%26s%3D400&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen="" frameborder="0"></iframe>







![](https://cdn-images-1.medium.com/max/1600/1*8QR6Xcs9Z9kG2L50hWMBsw.png)



If you have used the above example, you will get a rectangular shape like the one shown.

**Some other useful tips:**

*   To remove a polyline from the map, call `mapView.clear()`.
*   You can change the color of the line by using `polyline.strokeColor=.black`.
*   Change the width of the line by calling `polyline.strokeWidth=3`.

#### Polygon

Polygon is almost the same as polylines. It works using the same approach, with a few minor differences.

For example, `GMSPolygon`will draw a shape. You can then use `fillColor` to fill in the drawn area. Here is an example of what this looks like.





<iframe width="700" height="250" src="https://medium.freecodecamp.org/media/c2e2955ccf0b3c9790f4d0dc0a8a6c3a?postId=a9bba26d9c4d" data-media-id="c2e2955ccf0b3c9790f4d0dc0a8a6c3a" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F18553031%3Fv%3D4%26s%3D400&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen="" frameborder="0"></iframe>







![](https://cdn-images-1.medium.com/max/1600/1*79iM1lo6ICzmy5DmJM43kA.png)



#### Radius (circle)

The final shape we will look at is a circle. This is probably the easiest shape of all, since it‚Äôs always the same!

To achieve this, we need to use the`GMSCircle` class. Here, we are not passing a path. Instead, we use one coordinate to specify the circle‚Äôs center. We also define a radius (measured in meters).





<iframe width="700" height="250" src="https://medium.freecodecamp.org/media/5b5b4c35cd5b9e42768d0ffd4d38ebf9?postId=a9bba26d9c4d" data-media-id="5b5b4c35cd5b9e42768d0ffd4d38ebf9" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F18553031%3Fv%3D4%26s%3D400&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen="" frameborder="0"></iframe>







![](https://cdn-images-1.medium.com/max/1600/1*l41eb5zRtfO-1QWiYlKBWw.png)



The`GMSCircle` class contains the same properties as the polygon, including`fillColor`¬†, `strokeColor` and `strokeWidth`.

### Step 4‚Ää‚Äî‚ÄäProperties and¬†Settings

This part will cover a few properties and settings that are often used when using Google Maps in your app. Let‚Äôs take a look at them.

#### Change marker¬†icon

The `GMSMarker`contains two different properties for changing the marker icon.

*   `marker.icon=UIImage(named: "image.png")` in this approach, you pass an image filename. This replaces the default one.
*   `marker.iconView=customView` You can also add a custom view instead of an image. This can be used for more complex markers. For example, you may want to add some animation, or multiple components (instead of a single image). Note the `icon` property gets overwritten when `iconView` is called.

#### Add ‚ÄòMy Location‚Äô button

The ‚ÄòMy Location‚Äô button appears in the bottom right corner. Clicking the button will animate the map to show the user‚Äôs current location.

To add this, set `mapView.settings.myLocationButton = true`. The button will appear.



![](https://cdn-images-1.medium.com/max/1600/1*EgK9Q4dvn3-IuGOvOvvOtw.png)



#### Zoom controls

Google Maps SDK for iOS doesn‚Äôt provide inbuilt zoom controls (but the Android SDK does). You will need to write your own logic instead.

All you need to do is add two buttons with ‚Äò+‚Äô and ‚Äò-‚Äô icons. When tapped, these will call `mapView.animate(toZoom: zoom)`.

#### Control gestures

You can turn on or off any gesture that you can see on the map. For example, you might want to disable zooming, or turn off scrolling.

There are a total of four gestures available to you:

    mapView.settings.scrollGestures = falsemapView.settings.zoomGestures   = falsemapView.settings.











* * *







I hope that you have enjoyed this tutorial. If you want to read more on Google Maps SDK for iOS, write me a comment. I would be very happy to expand this tutorial with your requests.

If you have found something useful, please clapüëè or share this story to spread the knowledge. Cheers! ü§ì üíö





<iframe data-width="800" data-height="480" width="700" height="420" src="https://medium.freecodecamp.org/media/f00a4df5766dfd54db32ea3b92288dfe?postId=a9bba26d9c4d" data-media-id="f00a4df5766dfd54db32ea3b92288dfe" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Fupscri.be%2Fmedia%2Fform.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07" allowfullscreen="" frameborder="0"></iframe>





#### Read more of my writing at theappspace.com:

[**SWIFT‚Ää‚Äî‚ÄäCustom UIView with XIB file‚Ää‚Äî‚ÄäThe App Space**  
_Custom UIView with XIB file is a very common practice in iOS Development. Custom UIView classes don‚Äôt contain XIB files‚Ä¶_theappspace.com](https://theappspace.com/swift-xib-custom-uiview/ "https://theappspace.com/swift-xib-custom-uiview/")[](https://theappspace.com/swift-xib-custom-uiview/)

[**Introducing Clean Swift Architecture (VIP)‚Ää‚Äî‚ÄäThe App Space**  
_A couple of years ago, all of the iOS apps were small containing less than 10 screens. The codebase was small‚Ä¶_theappspace.com](https://theappspace.com/introducing-clean-swift-architecture-vip/ "https://theappspace.com/introducing-clean-swift-architecture-vip/")[](https://theappspace.com/introducing-clean-swift-architecture-vip/)

[**Speed up Swift compile time‚Ää‚Äî‚ÄäThe App Space**  
_Swift has become one of the greatest modern programming languages, but as everything else, it has its own issues. When‚Ä¶_theappspace.com](https://theappspace.com/speed-swift-compile-time/ "https://theappspace.com/speed-swift-compile-time/")[](https://theappspace.com/speed-swift-compile-time/)








